/* StudentSidebar.css - simplified to use design-system variables only */

.student-sidebar {
  position: fixed;
  right: 18px;
  top: 80px;
  width: 200px;
  z-index: 60;
  direction: rtl;
  pointer-events: auto;
}

.sidebar-inner {
  position: relative;
  background: var(--color-bg-card);
  border-radius: 18px;
  padding: 14px;
  box-shadow: 0 12px 30px var(--shadow-weak);
  border: 1px solid var(--border-weak);
  transition: transform .28s ease, box-shadow .28s ease;
  transform-origin: right top;
  overflow: hidden;
}

.brand-pill { display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:14px; background:var(--color-bg-page); color:var(--color-primary); font-weight:700; position:relative; }
.brand-icon { font-size:18px; }
.brand-text { font-size:14px; }

.sidebar-nav { margin-top:14px; display:flex; flex-direction:column; gap:12px; }
.sidebar-item { display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; background:transparent; color:var(--color-primary); font-weight:700; border:none; cursor:pointer; transition: background .18s ease, box-shadow .18s ease; }
.sidebar-item:hover{ background:var(--color-bg-page); box-shadow:0 8px 18px var(--shadow-weak); }
.sidebar-item .item-icon { width:40px; height:40px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; background:var(--color-bg-page); font-size:18px; box-shadow: inset 0 -2px 6px var(--shadow-weak); }

.sidebar-decor{ margin-top:14px; display:flex; justify-content:flex-end; }
.decor-circle{ width:58px; height:58px; border-radius:12px; background:var(--color-bg-page); box-shadow:0 8px 20px var(--shadow-weak); transform:rotate(-8deg); }

.sidebar-inner::before{ content:''; position:absolute; inset:0; border-radius:20px; pointer-events:none; }
.sidebar-inner::after{ content:''; position:absolute; top:6px; right:6px; width:6px; height:6px; border-radius:50%; background:var(--color-accent); pointer-events:none; }

.sidebar-item::after{ content:''; display:none; }

.sidebar-item.active, .sidebar-item[aria-current="page"]{ position:relative; border:1px solid var(--border-weak); background:var(--color-bg-card); box-shadow:0 10px 26px var(--shadow-medium); }

.sidebar-inner .brand-pill::after{ content:''; position:absolute; right:14px; top:12px; width:48px; height:12px; background:var(--color-bg-page); opacity:0.06; transform:rotate(-18deg); }

.sidebar-nav .sidebar-item:nth-child(1) { }
.sidebar-nav .sidebar-item:nth-child(2) { }
.sidebar-nav .sidebar-item:nth-child(3) { }

@media (max-width:900px){ .student-sidebar{ right:12px; top:70px; width:160px; } .sidebar-item .item-icon{ width:36px; height:36px; } }
.student-sidebar {
  position: fixed;
  right: 18px;
  top: 80px;
  width: 200px;
  z-index: 60;
  direction: rtl;
  pointer-events: auto;
}

.sidebar-inner {
  position: relative;
  background: var(--color-bg-card);
  border-radius: 18px;
  padding: 14px;
  box-shadow: 0 12px 30px rgba(15,23,42,0.12);
  border: 1px solid rgba(255,255,255,0.5);
  backdrop-filter: blur(10px) saturate(125%);
  transition: transform 0.35s cubic-bezier(.2,.9,.2,1), box-shadow 0.35s;
  transform-origin: right top;
  animation: slideInRipple 720ms cubic-bezier(.22,.9,.2,1) both;
  overflow: hidden;
  will-change: transform, box-shadow;
}

@keyframes slideInRipple {
  0% { transform: translateY(-18px) scale(.985); opacity: 0; }
  48% { transform: translateY(6px) scale(1.02); opacity: 1; }
  72% { transform: translateY(-4px) scale(.995); }
  100% { transform: translateY(0) scale(1); }
}

/* golden wave spreading from center */
@keyframes goldenWave {
  0% { box-shadow: 0 0 0 0 rgba(255,215,0,0.0); }
  40% { box-shadow: 0 0 40px 12px rgba(255,215,0,0.06); }
  100% { box-shadow: 0 0 120px 32px rgba(255,215,0,0.0); }
}

/* staggered star fall for list items */
@keyframes starFallStagger {
  0% { transform: translateY(-18px) rotate(-8deg) scale(.95); opacity: 0; }
  60% { transform: translateY(6px) rotate(6deg) scale(1.02); opacity: 1; }
  100% { transform: translateY(0) rotate(0deg) scale(1); opacity: 1; }
}

/* neon glow pulse for active items */
@keyframes neonGlowPulse {
  0% { text-shadow: 0 0 6px rgba(167,139,250,0.0); box-shadow: 0 6px 18px rgba(124,58,237,0.04); }
  50% { text-shadow: 0 0 12px rgba(236,72,153,0.18); box-shadow: 0 18px 40px rgba(236,72,153,0.12); }
  100% { text-shadow: 0 0 6px rgba(167,139,250,0.0); box-shadow: 0 6px 18px rgba(124,58,237,0.04); }
}

/* subtle water ripple change in border-radius */
@keyframes waterRipple {
  0% { border-radius: 18px; }
  50% { border-radius: 22px; }
  100% { border-radius: 18px; }
}

/* moving golden line along border */
@keyframes movingGoldenLine {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

/* sweeping light */
@keyframes lightSweep {
  0% { transform: translateX(-120%); opacity: 0; }
  50% { opacity: 0.9; }
  100% { transform: translateX(120%); opacity: 0; }
}

/* soft breathing */
@keyframes softBreathing {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.02); opacity: 0.98; }
  100% { transform: scale(1); opacity: 1; }
}

/* 3D rotate */
@keyframes rotate3D {
  0% { transform: perspective(600px) rotate3d(0,0,0,0deg); }
  50% { transform: perspective(600px) rotate3d(0.2,1,0,12deg); }
  100% { transform: perspective(600px) rotate3d(0,0,0,0deg); }
}

/* live shadow pulse */
@keyframes liveShadow {
  0% { box-shadow: 0 6px 18px rgba(17,24,39,0.06); }
  50% { box-shadow: 0 22px 46px rgba(17,24,39,0.12); }
  100% { box-shadow: 0 6px 18px rgba(17,24,39,0.06); }
}

.brand-pill {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 14px;
  background: var(--color-bg-card);
  color: var(--color-bg-page);
  font-weight: 700;
  box-shadow: 0 6px 18px rgba(124,58,237,0.18);
  position: relative;
}

.brand-icon { font-size: 18px; }
.brand-text { font-size: 14px; }

.sidebar-nav { margin-top: 14px; display: flex; flex-direction: column; gap: 12px; }

.sidebar-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 14px;
  border-radius: 12px;
  background: var(--color-bg-card);
  color: var(--sidebar-text, var(--color-primary));
  text-decoration: none;
  font-weight: 700;
  box-shadow: 0 6px 18px rgba(17,24,39,0.06);
  border: 1px solid rgba(17,24,39,0.04);
  transition: transform 240ms cubic-bezier(.2,.9,.2,1), box-shadow 240ms, background 240ms;
  will-change: transform, box-shadow, opacity;
  transform-origin: right center;
  animation: starFallStagger 620ms cubic-bezier(.22,.9,.2,1) both;

  position: relative;
}

.sidebar-item:hover {
  transform: translateY(-6px) scale(1.01) rotateZ(-0.6deg);
  box-shadow: 0 20px 46px rgba(99,102,241,0.12);
}

.sidebar-item .item-icon { width: 40px; height: 40px; border-radius: 10px; display: inline-flex; align-items: center; justify-content: center; background: var(--color-bg-card); font-size: 18px; box-shadow: inset 0 -2px 6px rgba(0,0,0,0.03); }

.button-like { background: var(--color-bg-card); border: none; cursor: pointer; }

.sidebar-decor { margin-top: 14px; display:flex; justify-content:flex-end; }
.decor-circle { width: 58px; height: 58px; border-radius: 12px; background: var(--color-bg-card); box-shadow: 0 8px 24px rgba(0,0,0,0.06); transform: rotate(-8deg); }

/* decorative golden border accent */
.sidebar-inner::before {
  content: '';
  position: absolute;
  inset: 0;
  padding: 2px;
  border-radius: 20px;
  background: var(--color-bg-card);
  -webkit-mask: linear-gradient(var(--color-primary) 0 0) content-box, linear-gradient(var(--color-primary) 0 0);
  mask: linear-gradient(var(--color-primary) 0 0) content-box, linear-gradient(var(--color-primary) 0 0);
  pointer-events: none;
}

/* moving golden accent line */
.sidebar-inner::after {
  content: '';
  position: absolute;
  top: 6px;
  right: -40%;
  width: 160%;
  height: 6px;
  background: var(--color-bg-card);
  filter: blur(8px);
  transform: rotate(-12deg);
  animation: movingGoldenLine 4.5s linear infinite;
  opacity: 0.9;
  pointer-events: none;
}

/* light sweep on hover for each item */
.sidebar-item::after {
  content: '';
  position: absolute;
  right: 14px;
  top: 8px;
  bottom: 8px;
  width: 16px;
  background: var(--color-bg-card);
  transform: translateX(-120%);
  opacity: 0;
  pointer-events: none;
}
.sidebar-item:hover::after { animation: lightSweep 900ms ease forwards; opacity: 1; }

/* active state with neon glow */
.sidebar-item.active, .sidebar-item[aria-current="page"] {
  animation: neonGlowPulse 2.8s ease-in-out infinite, liveShadow 2.8s ease-in-out infinite;
  position: relative;
  border: 1px solid rgba(236,72,153,0.12);
  background: var(--color-bg-card);
}

/* soft shimmer overlay for brand */
.sidebar-inner .brand-pill::after {
  content: '';
  position: absolute;
  right: 14px;
  top: 12px;
  width: 48px;
  height: 12px;
  background: var(--color-bg-card);
  transform: rotate(-18deg);
  opacity: .9;
  filter: blur(2px);
}

/* stagger children animation delay */
.sidebar-nav .sidebar-item:nth-child(1) { animation-delay: 0ms; }
.sidebar-nav .sidebar-item:nth-child(2) { animation-delay: 120ms; }
.sidebar-nav .sidebar-item:nth-child(3) { animation-delay: 240ms; }

/* responsive */
@media (max-width: 900px) {
  .student-sidebar { right: 12px; top: 70px; width: 160px; }
  .sidebar-item .item-icon { width: 36px; height: 36px; }
}

/* dark mode */
@media (prefers-color-scheme: dark) {
  .sidebar-inner { background: var(--color-bg-card); border: 1px solid rgba(255,255,255,0.03); }
  .sidebar-item { background: var(--color-bg-card); color: var(--color-bg-page); box-shadow: 0 6px 18px rgba(0,0,0,0.6); }
  .brand-pill { background: var(--color-bg-card); box-shadow: 0 6px 18px rgba(0,0,0,0.45); }
}

@keyframes shimmer {
  0% { opacity: 0; transform: translateX(-8px) rotate(-20deg); }
  50% { opacity: 0.8; transform: translateX(8px) rotate(-20deg); }
  100% { opacity: 0; transform: translateX(24px) rotate(-20deg); }
}

